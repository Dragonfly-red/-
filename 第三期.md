# **一、RAG的概括：**

​	检索增强生成，他是一种结合了检索模型和生成模型的技术。通过从数据源中检索信息来辅助大预言模型生成答案。用户向模型提问，模型以搜索算法找到的信息未背景上下文，这些查询和检索到的上下文信息会被整合并发送给大预言模型的提示中。
​	能够解决大语言模型再处理知识密集型任务时，可能遇到的挑战。提供更加准确的回复，降低成本实现外部记忆。

# **二、向量数据库**：

​	1、数据存储：将文本及其他数据通过其他预训练的模型转换为固定长度的向量标识，这些向量能够捕捉文本的语义信息。

​	2、相似性检索：根据用户的查询向量，使用向量数据库快速的找出最相关的向量的过程。通常通过计算余弦相似度或其他相似度（点乘）来完成。检索结果根据相似度得分进行排序，最相关的文档将被用于后续的文本生成

​	3、向量表示的优化：包括使用更高级的文本编码技术，如句子嵌入或段落嵌入，以及对数据库进行优化以支持大规模向量搜索

# **三、RAG的三种范式：**

### 	1、Naive RAG：（问答系统，信息检索）索引，检索，生成

​		索引阶段，原始数据被清洗，提取并转换成标准化的文本块。
​		检索阶段使用编码其模型将用户的查询转换为向量表示，然后计算与索引中文本块的相似度，以检索最相关的信息。
​		最后，再生成阶段，模型根据检索到的信息合成响应。

### 	2、Advanced RAG：（摘要生成，内容推荐）

​		在Naive RAG的基础上增加了预检索和后检索优化。
​		通过优化数据索引，微调嵌入模型和重新排序检索结果来提高检索质量。
​		可能换包括提示工程，即改进LLM提示以提高生成内容的质量和相关性。

### 	3、Modular RAG：（多模态任务，对话系统）

​		是一种高度可扩展的凡是，他将RAG系统分解成多个模块，每个模块专注于RAG流程的一个特定的部分。
​		这种模块化方法允许更加灵活的配置和优化，以适应不同的应用场景和需求。
​		可以包括递归检索和查询引擎，以在流程的后期提供更多上下文信息，从而在效率和响应深度之间取得平衡。

# **四、常见的集中优化方法**：

![1712675585973](C:\Users\宁鹏翔\AppData\Roaming\Typora\typora-user-images\1712675585973.png)

# **五、优化方法比较**：

|                    | model Adaptation | External Knowledge |
| :----------------: | :--------------: | :----------------: |
| Prompt Engineering |       low        |        low         |
|        RAG         |       low        |        High        |
|    Fine-tuning     |       High       |        low         |
|  All of the above  |       High       |        High        |

# **六、评测：**

### 1、经典的评估指标：

准确率、召回率、F1分数、BLEU分数、ROUGE分数

### 2.RAG评测框架：

基准测试 ：RGB、RECALL、CRUD

评测工具：RAGAS、ARES、TruLens



# 对话：

![1712657544067](C:\Users\宁鹏翔\AppData\Roaming\Typora\typora-user-images\1712657544067.png)

![1712657572520](C:\Users\宁鹏翔\AppData\Roaming\Typora\typora-user-images\1712657572520.png)

![1712657601323](C:\Users\宁鹏翔\AppData\Roaming\Typora\typora-user-images\1712657601323.png)

![1712657614405](C:\Users\宁鹏翔\AppData\Roaming\Typora\typora-user-images\1712657614405.png)

![1712657630121](C:\Users\宁鹏翔\AppData\Roaming\Typora\typora-user-images\1712657630121.png)